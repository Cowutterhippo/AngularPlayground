<div class="container">
  <div class="row">
    <div class="col">
      <h1>Register</h1>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
          <div class="form-field">
            <label for="email">Email:</label>
            <input type="email" name="email" id="email" formControlName="email">
            <p class="form-error" *ngIf="registerForm.get('email')?.hasError('required') && registerForm.get('email')?.touched && registerForm.get('email')?.dirty">
              Email is required
            </p>
            <p class="form-error" *ngIf="registerForm.get('email')?.hasError('email') && registerForm.get('email')?.touched && registerForm.get('email')?.dirty">
                Please enter a valid email address
            </p>
            <p class="form-error" *ngIf="registerForm.get('email')?.hasError('emailExists') && registerForm.get('email')?.touched && registerForm.get('email')?.dirty">
              this email exists please: <a href="/login">Login</a> or if you <a href="/forgot-password">Forgot Password</a>
            </p>
            <p class="form-success" *ngIf="!registerForm.get('email')?.hasError('emailExists') && !registerForm.get('email')?.hasError('required') && !registerForm.get('email')?.hasError('email') && registerForm.get('email')?.touched && registerForm.get('email')?.dirty">
              The Email is unique!
            </p>
          </div>
          <div class="form-field">
            <label for="username">User Name:</label>
            <input type="text" name="username" id="username" formControlName="username">
            <p class="form-error" *ngIf="registerForm.get('username')?.hasError('username') && registerForm.get('username')?.touched && registerForm.get('username')?.dirty">
              User Name is required
            </p>
            <p class="form-error" *ngIf="registerForm.get('username')?.hasError('emailExists') && registerForm.get('username')?.touched && registerForm.get('username')?.dirty">
              This User Name is already taken
            </p>
            <p class="form-success" *ngIf="!registerForm.get('username')?.hasError('emailExists') && registerForm.get('username')?.touched && registerForm.get('username')?.dirty">
              This User Name is available
            </p>
          </div>
          <div class="form-field">
            <label for="password">Password:</label>
            <input type="password" name="password" id="password" formControlName="password">
            <p class="form-error" *ngIf="registerForm.get('password')?.hasError('required') && registerForm.get('password')?.touched && registerForm.get('password')?.dirty">
              Password is required
            </p>
            <p class="form-error" *ngIf="registerForm.get('password')?.hasError('passwordTooShort') && registerForm.get('password')?.touched && registerForm.get('password')?.dirty">
              Password must be at least 8 characters
            </p>
            <p class="form-error" *ngIf="registerForm.get('password')?.hasError('passwordNotStrong') && registerForm.get('password')?.touched && registerForm.get('password')?.dirty">
              Password must contain at least one uppercase, one lowercase, and one number
            </p>
          </div>
          <div class="form-field">
            <label for="confirm-password">Confirm Password:</label>
            <input type="password" name="confirm-password" id="confirm-password" formControlName="confirmPassword">
            <p class="form-error" *ngIf="registerForm.get('confirmPassword')?.hasError('required') && registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.dirty">
              Confirm Password is required
            </p>
            <p class="form-error" *ngIf="registerForm.get('confirmPassword')?.hasError('passwordMatch') && registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.dirty">
              Passwords do not match
            </p>
            <p class="form-success" *ngIf="!registerForm.get('confirmPassword')?.hasError('passwordMatch') && !registerForm.get('confirmPassword')?.hasError('required') && registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.dirty">
              Passwords match!
            </p>
          </div>
        <div class="form-buttons">
          <button type="submit" [disabled]="registerForm.invalid">Register</button>
        </div>
      </form>
    </div>
  </div>

</div>
